<?xml version="1.0" encoding="UTF-8"?>
<local:ScoreBarBase
        xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:exml="http://www.jangaroo.net/exml/0.8"
        xmlns="exml:ext.config"
        xmlns:local="com.coremedia.blueprint.studio.feedbackhub.siteimprove.components.*"
        xmlns:ui="exml:com.coremedia.ui.config"
        style="40px !important;">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.blueprint.studio.feedbackhub.siteimprove.FeedbackHubSiteimprove')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    import com.coremedia.blueprint.studio.feedbackhub.siteimprove.ScoreUtil;

    public static const xtype:String = "com.coremedia.blueprint.studio.feedbackhub.siteimprove.config.ScoreBar";

    private var config:ScoreBar;

    public native function ScoreBar(config:ScoreBar = null);
    ]]></fx:Script>

  <local:items>
    <Container>
      <items>
        <DisplayField value="{config.label}"
                      hidden="{!config.label}" hideMode="display"/>
        <local:ScoreDiff hidden="{!config.showDiff}"
                         hideMode="display"
                         margin="0 0 0 5"
                         bindToValue1="{config.bindTo}"
                         bindToValue2="{getLastExpression(config)}"/>
        <Container flex="1"/>
        <DisplayField ui="{null}" style="color:#000;font-weight:bold;font-size: 14px;" hidden="{!config.showPoints}" hideMode="display">
          <plugins>
            <ui:BindPropertyPlugin componentProperty="value" bindTo="{config.bindTo}" transformer="{ScoreUtil.formatScore}"/>
          </plugins>
        </DisplayField>
        <DisplayField ui="{null}" value="/100" style="color:#b3b1b1;" hidden="{!config.showPoints}" hideMode="display"/>
      </items>
      <layout>
        <layout_HBox align="stretch"/>
      </layout>
    </Container>
    <DisplayField itemId="{BAR_ITEM_ID}" html="true"/>
  </local:items>
  <local:layout>
    <layout_VBox align="stretch" pack="center"/>
  </local:layout>
</local:ScoreBarBase>
